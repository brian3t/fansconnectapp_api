define("angular_helper",["angular"],function(){var e=Object.prototype.toString,n=function(n){return"[object Arguments]"===e.apply(n)||null!==n&&void 0!==n&&!!n.callee},t=function(n){return"[object Array]"===e.apply(n)},a=function(e){return"string"==typeof e},r=function(e){if(n(e)||t(e))return r.apply(null,e);if(e&&e.id)return e.id;throw"Unable to extract AngularJS module name from RequireJS module: "+e},i=function(){var e=[];return angular.forEach(arguments,function(r){n(r)||t(r)?e.push.apply(e,i.apply(null,r)):a(r)?e.push(r):r&&r.name&&t(r.requires)&&e.push(r.name)}),e},o=function(){var e=r(arguments),n=i.apply(null,arguments);return angular.module(e,n)},u=function(){var e=arguments;return function(n,t){var a=o(e);a.config(["ConfigProvider",function(e){e.setConfig(t)}]),angular.bootstrap(n,[a.name],{strictDi:!0})}},c=function(e,n){function t(t,a){var r=function(e){t.$evalAsync(function(){t[a]=angular.copy(e,t[a])})};t.$on("$destroy",e.$watch(n,r,!0)),r(e.$eval(n))}return t};return{configBootstrapper:u,createModule:o,scopeBinder:c}}),define("common/angular/config/config",["module","angular_helper"],function(e,n){return n.createModule(arguments).provider("Config",[function(){var e=function(n){return angular.forEach(arguments,function(t){t!==n&&angular.forEach(t,function(t,a){n[a]&&n[a].constructor&&n[a].constructor===Object?e(n[a],t):n[a]=t})}),n},n={};this.setConfig=function(t){n=e({},n,t)},this.$get=[function(){return n}]}])}),define("common/angular/services/event_manager_factory",["module","angular_helper"],function(e,n){var t=n.createModule(arguments),a=[].slice;return t.factory("EventManagerFactory",[function(){var e=function(){this.$element=angular.element("<div></div>")};return e.prototype.on=function(e,n){return this.$element.on(e,n),angular.bind(this,function(){this.$element.off(e,n)})},e.prototype.trigger=function(e){this.$element.triggerHandler(e,a.call(arguments,1))},{create:function(){return new e}}}]),t}),function(e,n){var t={catchMethods:{methodreturn:[],count:0},init:function(n){var t,a,r;n.originalEvent.origin.match(/vimeo/gi)&&"data"in n.originalEvent&&(r="string"===e.type(n.originalEvent.data)?e.parseJSON(n.originalEvent.data):n.originalEvent.data,r&&(t=this.setPlayerID(r),t.length&&(a=this.setVimeoAPIurl(t),r.hasOwnProperty("event")&&this.handleEvent(r,t,a),r.hasOwnProperty("method")&&this.handleMethod(r,t,a))))},setPlayerID:function(n){return e("iframe[src*="+n.player_id+"]")},setVimeoAPIurl:function(e){return"http"!==e.attr("src").substr(0,4)?"https:"+e.attr("src").split("?")[0]:e.attr("src").split("?")[0]},handleMethod:function(e){this.catchMethods.methodreturn.push(e.value)},handleEvent:function(n,t,a){switch(n.event.toLowerCase()){case"ready":for(var r in e._data(t[0],"events"))r.match(/loadProgress|playProgress|play|pause|finish|seek|cuechange/)&&t[0].contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:r}),a);if(t.data("vimeoAPICall")){for(var i=t.data("vimeoAPICall"),o=0;o<i.length;o++)t[0].contentWindow.postMessage(JSON.stringify(i[o].message),i[o].api);t.removeData("vimeoAPICall")}t.data("vimeoReady",!0),t.triggerHandler("ready");break;case"seek":t.triggerHandler("seek",[n.data]);break;case"loadprogress":t.triggerHandler("loadProgress",[n.data]);break;case"playprogress":t.triggerHandler("playProgress",[n.data]);break;case"pause":t.triggerHandler("pause");break;case"finish":t.triggerHandler("finish");break;case"play":t.triggerHandler("play");break;case"cuechange":t.triggerHandler("cuechange")}}},a=e.fn.vimeoLoad=function(){var n=e(this).attr("src"),t=!1;if("https:"!==n.substr(0,6)&&(n="http"===n.substr(0,4)?"https"+n.substr(4):"https:"+n,t=!0),null===n.match(/player_id/g)){t=!0;var a=-1===n.indexOf("?")?"?":"&",r=e.param({api:1,player_id:"vvvvimeoVideo-"+Math.floor(1e7*Math.random()+1).toString()});n=n+a+r}return t&&e(this).attr("src",n),this};jQuery(document).ready(function(){e("iframe[src*='vimeo.com']").each(function(){a.call(this)})}),e(["loadProgress","playProgress","play","pause","finish","seek","cuechange"]).each(function(n,a){jQuery.event.special[a]={setup:function(){var n=e(this).attr("src");if(e(this).is("iframe")&&n.match(/vimeo/gi)){var r=e(this);if("undefined"!=typeof r.data("vimeoReady"))r[0].contentWindow.postMessage(JSON.stringify({method:"addEventListener",value:a}),t.setVimeoAPIurl(e(this)));else{var i="undefined"!=typeof r.data("vimeoAPICall")?r.data("vimeoAPICall"):[];i.push({message:a,api:t.setVimeoAPIurl(r)}),r.data("vimeoAPICall",i)}}}}}),e(n).on("message",function(e){t.init(e)}),e.vimeo=function(e,a,r){var i={},o=t.catchMethods.methodreturn.length;if("string"==typeof a&&(i.method=a),void 0!==typeof r&&"function"!=typeof r&&(i.value=r),e.is("iframe")&&i.hasOwnProperty("method"))if(e.data("vimeoReady"))e[0].contentWindow.postMessage(JSON.stringify(i),t.setVimeoAPIurl(e));else{var u=e.data("vimeoAPICall")?e.data("vimeoAPICall"):[];u.push({message:i,api:t.setVimeoAPIurl(e)}),e.data("vimeoAPICall",u)}return"get"!==a.toString().substr(0,3)&&"paused"!==a.toString()||"function"!=typeof r||(!function(e,a,r){var i=n.setInterval(function(){t.catchMethods.methodreturn.length!=e&&(n.clearInterval(i),a(t.catchMethods.methodreturn[r]))},10)}(o,r,t.catchMethods.count),t.catchMethods.count++),e},e.fn.vimeo=function(n,t){return e.vimeo(this,n,t)}}(jQuery,window),define("vendor/jquery.vimeo.api",function(){}),define("common/angular/services/video/vimeo_player",["module","angular_helper","common/angular/config/config","common/angular/services/event_manager_factory","vendor/jquery.vimeo.api"],function(e,n){var t=n.createModule(arguments);return t.factory("VimeoPlayer",["$window","$document","$q","$interval","$log","EventManagerFactory",function(e,n,t,a,r,i){function o(e){if(-1===h.indexOf(e))throw"Invalid VimeoPlayer state: "+e;E.state!==e&&(E.state=e,r.debug("VimeoPlayer: [State]",e),angular.forEach(h,function(e){E[e]=!1}),E[e]=!0,v.trigger("stateChange",e))}function u(e,n){switch(n){case"play":E.pause(e),o("playing");break;case"pause":g()||o("stopped");break;case"finish":g()||o("stopped"),v.trigger("finish")}}function c(e){angular.element(e.target).data(m,"playing"),v.trigger("videoStateChange",e.target.id,"playing"),u(e.target.id,"play")}function l(e){angular.element(e.target).data(m,"stopped"),v.trigger("videoStateChange",e.target.id,"stopped"),u(e.target.id,"pause")}function s(e){angular.element(e.target).data(m,"stopped"),v.trigger("videoStateChange",e.target.id,"stopped"),u(e.target.id,"finish")}function d(e,n){P[e.target.id]={seconds:n.seconds,duration:n.duration},v.trigger("whilePlaying")}function g(){for(var e in b)if(b.hasOwnProperty(e)&&f(b[e]))return!0;return!1}function f(e){return y.valid(e)?"playing"===e.data(m):!1}function p(e){delete b[e],delete P[e]}var v=i.create(),y=function(){function e(e){return e&&n[0].contains(e[0])}function t(){var n=0,t=[];angular.forEach(b,function(a,r){e(a)?n++:t.push(r)}),angular.forEach(t,function(e){var n=b[e];n&&(u(e,"pause"),r.debug("VimeoPlayer: [Cleaner] Destroying video "+e),n.off(".VimeoPlayer"),p(e))}),0===n&&i&&(a.cancel(i),i=void 0,r.debug("VimeoPlayer: [Cleaner] Stopped"))}var i,o=2500;return{valid:e,validId:function(n){return e(b[n])},run:function(){i&&(a.cancel(i),i=a(t,o,0,!1)),t()},start:function(){i||(r.debug("VimeoPlayer: [Cleaner] Started"),i=a(t,o,0,!1))}}}(),h="stopped playing".split(" "),m="VimeoPlayer::stateData",P={},b={},E={};return o("stopped"),E.forEach=function(e){angular.forEach(b,function(n,t){e(t,n)})},E.forEachPlaying=function(e){angular.forEach(b,function(n,t){f(n)&&e(t,n)})},E.register=function(e){y.run();var n=angular.element(e),a=n.attr("id");if(!a){if(0===n.length)return t.reject();r.warn("VimeoPlayer: Video missing id!"),n.identify(),a=n.attr("id")}var i=b[a];if(i)return t.when(a);var o=t.defer();return n.data("vimeoReady")?y.valid(n)?o.resolve(n):o.reject("invalid"):n.one("ready.VimeoPlayer",function(){o.resolve(n)}),o.promise.then(function(e){return e.on("play.VimeoPlayer",c),e.on("pause.VimeoPlayer",l),e.on("finish.VimeoPlayer",s),e.on("playProgress.VimeoPlayer",d),r.debug("VimeoPlayer: Video "+a+" is ready."),b[a]=e,e.vimeo("paused",function(e){e||u(a,"play")}),y.start(),a},function(e){return r.error("VimeoPlayer: Failed to load video.  Reason: "+e),p(a),t.reject(e)})},E.getId=function(e){var n=angular.element(e).attr("id");return b.hasOwnProperty(n)?n:void 0},E.play=function(e){var n=b[e];y.valid(n)&&(E.pause(e),n.vimeo("play"))},E.pause=function(e){y.run(),angular.forEach(b,function(n,t){e!==t&&n.vimeo("pause")})},E.getPositionData=function(e){var n=b[e],t=P[e];return n&&t?angular.copy(t):void 0},E.isPlaying=function(e){return f(b[e])},E.getVideoId=function(e){var n=b[e];return n?n.data("videoId"):void 0},E.getVideoOptions=function(e){var n=b[e];return n?n.data("videoOptions"):void 0},E.on=function(e,n){return v.on(e,n)},E.onStateChange=function(e){return E.on("stateChange",e)},E.onWhilePlaying=function(e){return E.on("whilePlaying",e)},E.onFinish=function(e){return E.on("finish",e)},E.onVideoStateChange=function(e){return E.on("videoStateChange",e)},E}]),t.run(["$window","Config","VimeoPlayer",function(e,n,t){n.DEBUG_ENABLED&&(e.VimeoPlayer=t)}]),t}),define("common/angular/services/video/youtube_player",["module","angular_helper","common/angular/config/config","common/angular/services/event_manager_factory"],function(e,n){var t=n.createModule(arguments);return t.factory("YouTubePlayer",["$window","$document","$q","$interval","$log","EventManagerFactory",function(e,n,t,a,r,i){function o(e){if(-1===p.indexOf(e))throw"Invalid YouTubePlayer state: "+e;m.state!==e&&(m.state=e,r.debug("YouTubePlayer: [State]",e),angular.forEach(p,function(e){m[e]=!1}),m[e]=!0,d.trigger("stateChange",e))}function u(e,n){var t=e.getIframe(),a=angular.element(t),r=a.data(v);r!==n&&(a.data(v,n),d.trigger("videoStateChange",t.id,n))}function c(e,n){switch(angular.isUndefined(n)&&(n=e.getPlayerState()),n){case YT.PlayerState.BUFFERING:case YT.PlayerState.PLAYING:u(e,"playing"),m.pause(e.getIframe().id),o("playing"),f.start(e);break;case YT.PlayerState.PAUSED:u(e,"stopped"),l()||(o("stopped"),f.stop());break;case YT.PlayerState.ENDED:u(e,"stopped"),l()||(o("stopped"),f.stop()),d.trigger("finish")}}function l(){for(var e in h)if(h.hasOwnProperty(e)&&s(h[e]))return!0;return!1}function s(e){if(g.valid(e)){var n=e.getPlayerState();return n===YT.PlayerState.PLAYING||n===YT.PlayerState.BUFFERING}return!1}var d=i.create(),g=function(){function e(e){return e&&e.getIframe&&n[0].contains(e.getIframe())}function t(){var n=0,t=[];angular.forEach(h,function(a,r){e(a)?n++:t.push(r)}),angular.forEach(t,function(e){var n=h[e];if(n){var t=n.getPlayerState();(t===YT.PlayerState.PLAYING||t===YT.PlayerState.BUFFERING)&&c(n,YT.PlayerState.PAUSED),r.debug("YouTubePlayer: [Cleaner] Destroying video "+e),n.destroy(),delete h[e]}}),0===n&&i&&(a.cancel(i),i=void 0,r.debug("YouTubePlayer: [Cleaner] Stopped"))}var i,o=2500;return{valid:e,validId:function(n){return e(h[n])},run:function(){i&&(a.cancel(i),i=a(t,o,0,!1)),t()},start:function(){i||(r.debug("YouTubePlayer: [Cleaner] Started"),i=a(t,o,0,!1))}}}(),f=function(){function e(){if(g.valid(o)){var e=o.getPlayerState();(e===YT.PlayerState.PLAYING||e===YT.PlayerState.BUFFERING)&&d.trigger("whilePlaying")}else t()}function n(n){if(g.valid(n)){if(i){if(o&&o.getIframe().id===n.getIframe().id)return;a.cancel(i)}o=n,i=a(e,u,0,!1),r.debug("YouTubePlayer: [WhilePlayingHelper] Started")}}function t(){i&&(a.cancel(i),r.debug("YouTubePlayer: [WhilePlayingHelper] Stopped")),i=void 0,o=void 0}var i,o,u=500;return{start:n,stop:t}}(),p="initializing stopped playing".split(" "),v="YouTubePlayer::stateData",y=t.defer(),h={},m={};if(r.debug("YouTubePlayer: Initializing..."),o("initializing"),e.YT&&e.YT.loaded)o("stopped"),y.resolve();else{var P=e.onYouTubePlayerAPIReady;e.onYouTubePlayerAPIReady=function(){P&&P(),o("stopped"),y.resolve()},require(["//www.youtube.com/iframe_api"])}return y.promise.then(function(){r.debug("YouTubePlayer: API Loaded")}),m.forEach=function(e){angular.forEach(h,function(n,t){e(t,n)})},m.forEachPlaying=function(e){angular.forEach(h,function(n,t){s(n)&&e(t,n)})},m.register=function(e){if("initializing"===m.state)return y.promise.then(function(){return m.register(e)});g.run();var n=angular.element(e),a=n.attr("id");if(!a){if(0===n.length)return t.reject();r.warn("YouTubePlayer: Video missing id!"),n.identify(),a=n.attr("id")}var i=h[a];if(i)return t.when(a);var o=t.defer();return i=YT.get(a),i?g.valid(i)?o.resolve(i):o.reject("invalid"):new YT.Player(a,{events:{onReady:function(e){o.resolve(e.target)},onError:function(e){o.reject(e.data)}}}),o.promise.then(function(e){return r.debug("YouTubePlayer: Video "+a+" is ready."),h[a]=e,c(e),e.addEventListener("onStateChange",function(e){c(e.target,e.data)}),g.start(),a},function(e){return r.error("YouTubePlayer: Failed to load video.  Reason: "+e),delete h[a],t.reject(e)})},m.play=function(e){var n=h[e];g.valid(n)&&n.playVideo&&(m.pause(e),n.playVideo())},m.pause=function(e){angular.forEach(h,function(n,t){e!==t&&s(n)&&n.pauseVideo&&n.pauseVideo()})},m.getPositionData=function(e){var n=h[e];return n&&n.getDuration()>0?{seconds:n.getCurrentTime(),duration:n.getDuration()}:void 0},m.isPlaying=function(e){return s(h[e])},m.getId=function(e){var n=angular.element(e).attr("id");return h.hasOwnProperty(n)?n:void 0},m.getVideoId=function(e){var n=h[e];return n?angular.element(n.getIframe()).data("videoId"):void 0},m.getVideoOptions=function(e){var n=h[e];return n?angular.element(n.getIframe()).data("videoOptions"):void 0},m.on=function(e,n){return d.on(e,n)},m.onStateChange=function(e){return m.on("stateChange",e)},m.onWhilePlaying=function(e){return m.on("whilePlaying",e)},m.onFinish=function(e){return m.on("finish",e)},m.onVideoStateChange=function(e){return m.on("videoStateChange",e)},m}]),t.run(["$window","Config","YouTubePlayer",function(e,n,t){n.DEBUG_ENABLED&&(e.YouTubePlayer=t)}]),t}),define("common/angular/services/video/video_player",["module","angular_helper","common/angular/config/config","common/angular/services/event_manager_factory","common/angular/services/video/vimeo_player","common/angular/services/video/youtube_player"],function(e,n){var t=n.createModule(arguments);return t.factory("VideoPlayer",["$window","$q","$timeout","$http","$log","Config","EventManagerFactory","YouTubePlayer","VimeoPlayer",function(e,n,t,a,r,i,o,u,c){function l(e){if(-1===d.indexOf(e))throw"Invalid VideoPlayer state: "+e;g.state!==e&&(g.state=e,r.debug("VideoPlayer: [State]",e),angular.forEach(d,function(e){g[e]=!1}),g[e]=!0,s.trigger("stateChange",e))}var s=o.create(),d="stopped playing".split(" "),g={};return l("stopped"),g.forEach=function(e){u.forEach(function(n){e(n)}),c.forEach(function(n){e(n)})},g.register=function(e){var t=angular.element(e);return t.hasClass("youtube-player")?g.registerYouTube(t):t.hasClass("vimeo-player")?g.registerVimeo(t):(r.error("Invalid video:",e),n.reject("invalid"))},g.registerYouTube=function(e){var n=angular.element(e);return u.register(n)},g.registerVimeo=function(e){var n=angular.element(e);return c.register(n)},g.getId=function(e){return u.getId(e)||c.getId(e)},g.play=function(e){u.play(e),c.play(e)},g.pause=function(e){u.pause(e),c.pause(e)},g.getPositionData=function(e){return u.getPositionData(e)||c.getPositionData(e)},g.isPlaying=function(e){return u.isPlaying(e)||c.isPlaying(e)},g.getVideoId=function(e){return u.getVideoId(e)||c.getVideoId(e)},g.getVideoOptions=function(e){return u.getVideoOptions(e)||c.getVideoOptions(e)},g.on=function(e,n){return s.on(e,n)},g.onStateChange=function(e){return g.on("stateChange",e)},g.onWhilePlaying=function(e){return g.on("whilePlaying",e)},g.onFinish=function(e){return g.on("finish",e)},g.onVideoStateChange=function(e){return g.on("videoStateChange",e)},g.onVideoStateChangeForId=function(e,n){return g.onVideoStateChange(function(t,a,r){e===a&&n(t,r)})},g.onVideoPlayingForId=function(e,n){return g.onVideoStateChangeForId(e,function(e,t){"playing"===t&&n(e)})},g.onVideoStoppedForId=function(e,n){return g.onVideoStateChangeForId(e,function(e,t){"stopped"===t&&n(e)})},u.onStateChange(function(e,n){switch(n){case"playing":c.pause(),l("playing");break;case"stopped":c.playing||l("stopped")}}),u.onWhilePlaying(function(){s.trigger("whilePlaying")}),u.onFinish(function(){s.trigger("finish")}),u.onVideoStateChange(function(e,n,t){s.trigger("videoStateChange",n,t)}),c.onStateChange(function(e,n){switch(n){case"playing":u.pause(),l("playing");break;case"stopped":u.playing||l("stopped")}}),c.onWhilePlaying(function(){s.trigger("whilePlaying")}),c.onFinish(function(){s.trigger("finish")}),c.onVideoStateChange(function(e,n,t){s.trigger("videoStateChange",n,t)}),g}]),t.run(["$window","Config","VideoPlayer",function(e,n,t){n.DEBUG_ENABLED&&(e.VideoPlayer=t)}]),t}),define("common/angular/services/shared/play_percentage_factory",["module","angular_helper"],function(e,n){var t=n.createModule(arguments);return t.factory("PlayPercentageFactory",[function(){function e(e){var n=[],t={start:0,end:0};this.getTotalPlayed=function(){n.push(t),t={start:t.start,end:t.end};for(var e=0;e<n.length;e++){var a=n[e];if(a.start>=0)for(var r=0;r<n.length;r++)if(e!==r){var i=n[r];if(i.start>=0)if(a.start<=i.start&&i.start<=a.end)i.start=-1,a.end=Math.max(a.end,i.end);else if(i.start<=a.start&&a.start<=i.end){a.start=-1,i.end=Math.max(a.end,i.end);break}}}var o=[];angular.forEach(n,function(e){e.start>=0&&o.push(e)}),n=o;var u=0;return angular.forEach(n,function(e){e.start>=0&&(u+=e.end-e.start)}),u},this.getPercentPlayed=function(e){return 100*this.getTotalPlayed()/e},this.updatePosition=function(a){var r=a-t.end;(r>e||0>r)&&(n.push(t),t={start:a}),t.end=a},this.reset=function(){n=[],t={start:0,end:0}}}return{create:function(n){if(!angular.isNumber(n)||0>=n)throw new Error("Invalid maxJumpForward: "+String(n));return new e(n)}}}]),t}),define("common/angular/services/video/video_play_percentage",["module","angular_helper","common/angular/services/shared/play_percentage_factory","common/angular/services/video/video_player"],function(e,n){var t=n.createModule(arguments);return t.factory("VideoPlayPercentage",["$timeout","PlayPercentageFactory","VideoPlayer",function(e,n,t){function a(e){return e=String(e),o.hasOwnProperty(e)||(o[e]=n.create(.75)),o[e]}function r(){var e=[];t.forEach(function(n){e.push(n);var r=t.getPositionData(n);r&&r.seconds>0&&a(n).updatePosition(r.seconds)})}function i(){var e=[];t.forEach(function(n){e.push(n)}),angular.forEach(o,function(n,t){-1===e.indexOf(t)&&delete o[t]}),u=void 0}var o={};t.onWhilePlaying(r),t.onStateChange(r);var u;return t.onStateChange(function(){u&&e.cancel(u),u=e(i,1e4,!1)}),{getPercentPlayed:function(e,n){return a(e).getPercentPlayed(n)},updatePosition:function(e,n){return a(e).updatePosition(n)},reset:function(e){return a(e).reset()}}}]),t.run(["$window","Config","VideoPlayPercentage",function(e,n,t){n.DEBUG_ENABLED&&(e.VideoPlayPercentage=t)}]),t}),define("common/angular/services/shared/primary_player_factory",["module","angular_helper"],function(e,n){var t=n.createModule(arguments,"ngCookies");return t.factory("PrimaryPlayerFactory",["$timeout","$log","$cookies",function(e,n,t){function a(a){var u,c=o++ +"_"+(new Date).getTime()+"_"+Math.floor(1e5*Math.random()),l=!0;this.set=function(){u=e(function(){a()&&(t.put(r,c,i),l=angular.isDefined(t.get(r)),l||n.debug("PrimaryPlayer disabled: Unable to set cookie.")),u=null},0,!1)},this.isPrimary=function(){return l&&!u&&c!==t.get(r)?!1:!0}}var r="_reverb_currentplayer",i={path:"/"},o=0;return{create:function(e){return angular.isFunction(e)||(e=function(){return!0}),new a(e)}}}]),t}),define("common/angular/services/video/video_primary_player",["module","angular_helper","common/angular/services/shared/primary_player_factory","common/angular/services/video/video_player"],function(e,n){var t=n.createModule(arguments);return t.factory("VideoPrimaryPlayer",["PrimaryPlayerFactory","VideoPlayer",function(e,n){function t(){return n.playing}return e.create(t)}]),t.run(["VideoPlayer","VideoPrimaryPlayer",function(e,n){e.onWhilePlaying(function(){n.isPrimary()||e.pause()}),e.onStateChange(function(){e.playing&&n.set()})}]),t}),define("common/angular/services/video/video_statistics",["module","angular_helper","common/angular/config/config","common/angular/services/video/video_player","common/angular/services/video/video_play_percentage","common/angular/services/video/video_primary_player"],function(e,n){var t=n.createModule(arguments);return t.run(["$log","$http","Config","VideoPlayer","VideoPlayPercentage",function(e,n,t,a,r){function i(t){var a=-1;t.sentPercentage<0&&t.percentagePlayed>0?t.sentPercentage=a=0:t.sentPercentage<10&&t.percentagePlayed>10?t.sentPercentage=a=10:t.sentPercentage<50&&t.percentagePlayed>50?t.sentPercentage=a=50:t.sentPercentage<100&&t.percentagePlayed>=100&&(t.sentPercentage=a=100),a>-1&&(e.debug("VideoStatistics: Sending progress for video",t.videoId,a),n.post(s,{vid:t.videoId,pt:a,container:t.container}),t.sentPercentage=a)}function o(t){var a=Math.round(t.percentagePlayed);a>0&&a!==t.sentPercentage&&(e.debug("VideoStatistics: Sending progress for video",t.videoId,a),n.post(s,{vid:t.videoId,pt:a,container:t.container}),t.sentPercentage=a)}function u(){var e=d;d={},a.forEach(function(n){var t;if(e.hasOwnProperty(n))t=e[n];else{var u=a.getVideoId(n);if(!u)return;t={videoId:u,sentPercentage:-1,percentagePlayed:-1};var c=a.getVideoOptions(n);c&&c.container&&"string"==typeof c.container&&(t.container=c.container)}var l=a.getPositionData(n)||t.positionData;l&&l.duration>0&&(t.positionData=l,t.percentagePlayed=r.getPercentPlayed(n,l.duration),a.isPlaying(n)?i(t):o(t)),d[n]=t,delete e[n]}),angular.forEach(e,function(e){o(e)})}function c(){angular.forEach(d,function(e,n){var t=a.getPositionData(n)||e.positionData;t&&t.duration>0&&(e.positionData=t,e.percentagePlayed=r.getPercentPlayed(n,t.duration),o(e))})}function l(e,n){"stopped"===n?c():u()}var s=(t.PLAYER||{}).trackingAPI,d={};s&&(a.onWhilePlaying(u),a.onStateChange(l))}]),t}),define("modules/video_player",["module","angular_helper","common/angular/services/video/video_player","common/angular/services/video/video_statistics"],function(e,n){var t=arguments;return function(e){var a=angular.element("#rn_video_player");if(0===a.length){var r=n.createModule(t);r.config(["$logProvider",function(n){n.debugEnabled(!!e.DEBUG_ENABLED)}]),r.config(["ConfigProvider",function(n){n.setConfig({DEBUG_ENABLED:!!e.DEBUG_ENABLED,PLAYER:angular.merge({},{webServer:"https://www.reverbnation.com",htmlKeyAPI:"/controller/audio_player/get_html_player_key",trackingAPI:"/controller/audio_player/upt"},e)})}]),a=angular.element('<div id="rn_video_player"></div>').appendTo("body"),angular.bootstrap(a,[r.name],{strictDi:!0})}return a.injector().get("VideoPlayer")}});